<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>立即执行函数 IIFE</title>
</head>
<body>
    <script>
        const Counter = (function(){
            let count = 0;//私有变量 自由变量（不会被销毁，处于闭包当中）
            function increment(){
                return ++count;
            }
            function reset(){
                count = 0;
            }
            return function(){
                return{
                    getCount:function(){
                        return count;
                    },
                    increment:function(){
                        return increment();
                    },
                    reset:function(){
                        return reset();
                    }
                }
            }
        })();
        const counter1 = Counter()
        const counter2 = Counter()
        console.log(counter1.getCount())//0
        counter1.increment()//1
        console.log(counter2.getCount())//1
        //console.log(counter2.increment())//1
    </script>
</body>
</html>